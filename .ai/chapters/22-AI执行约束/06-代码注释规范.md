# 二十二、AI 执行约束（关键）

> **以下规则是提供给 Cursor / AI 的强约束，不得违反**

6.  **代码注释规范**：
    - **强制要求**：函数、变量、常量、逻辑判断都必须加上详细的注释
    - **注释内容**：说明代码的作用、业务逻辑、参数含义、返回值等
    - **注释语言**：业务逻辑使用中文注释，技术实现可使用英文
    - **注释示例**：
      ```javascript
      // ✅ 正确：函数有详细注释
      /**
       * 处理用户删除操作
       * @param {Object} record - 用户记录对象，包含用户ID等信息
       * @param {Function} deleteUserAction - 删除用户的接口Action
       * @description 删除前会进行二次确认，删除成功后刷新列表并提示成功
       */
      const handleDelete = (record, deleteUserAction) => {
        // 获取上下文对象，用于显示确认弹窗和提示消息
        const context = useContext(InjectContext);
        
        // 显示删除确认弹窗
        context.modal.confirm({
          title: '确认删除',
          content: `确定要删除用户"${record.name}"吗？`,
          onOk: async () => {
            // 调用删除接口
            await deleteUserAction({ id: record.id });
            // 显示成功提示
            context.message.success('删除成功！');
          },
        });
      };

      // ✅ 正确：变量有详细注释
      // 用户列表数据，包含用户基本信息（姓名、邮箱、状态等）
      const [userList, setUserList] = useState([]);
      
      // 搜索关键词，用于过滤用户列表
      const [searchKeyword, setSearchKeyword] = useState('');

      // ✅ 正确：常量有详细注释
      // 用户状态枚举值：1-启用，2-禁用，3-待审核
      const USER_STATUS = {
        ENABLED: 1,
        DISABLED: 2,
        PENDING: 3,
      };

      // ✅ 正确：逻辑判断有详细注释
      // 根据业务规则：只有状态为"待审核"且当前用户有审核权限的记录才能编辑
      if (record.status === USER_STATUS.PENDING && hasAuditPermission) {
        // 允许编辑操作
        return true;
      }
      ```
