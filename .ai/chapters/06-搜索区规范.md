# 六、搜索区规范（一级页面）

### 1. 搜索表单组件

- 除提示词明确不需要的情况下，所有页面搜索区 **必须** 使用： `@cqsjjb/jjb-react-admin-component/SearchForm`

  必须严格参考对应 MD 文档或 d.ts 文件！不得猜测组件属性！

- **布局挂载规范**：

  - **标准布局**：若页面结构简单，**必须**将 `SearchForm` 放置在 `PageLayout` 的 `formLine` 属性中，以实现搜索区与页面头部的紧凑集成。

  - **复杂布局**：若搜索需求涉及复杂交互或多行展示，可根据实际场景将 `SearchForm` 放置于 `PageLayout` 的主体内容区。

- **Form.Item 使用规范**：

  - **noStyle 属性**：`SearchForm` 内的所有 `Form.Item` **必须** 设置 `noStyle` 属性，移除默认样式。

  - **label 处理**：`Form.Item` **禁止** 使用 `label` 属性。

  - **prefix 属性**：表单控件（如 `Input`、`Select` 等）**必须** 设置 `prefix` 属性，`prefix` 的值即为原本 `Form.Item` 的 `label` 值。

  - **样式设置**：`SearchForm` 内的所有表单控件 **必须** 设置 `style={{ width: '100%' }}` 属性。

### 2. 搜索状态持久化

- **状态管理**：`SearchForm` 的表单值必须通过 `@cqsjjb/jjb-common-lib/tools` 中的 `router.query` 进行管理

  - **导入方式**：

    ```javascript
    import { tools } from '@cqsjjb/jjb-common-lib';
    const { router } = tools;
    ```

  - **访问查询参数**：

    ```javascript
    // router.query 返回 Proxy 对象
    const id = router.query.id; // string 类型
    ```

  - **设置查询参数**：

    ```javascript
    router.query = { id: '123' };
    router.query.id = '123';
    ```

  - **移除查询参数**：

    ```javascript
    router.query.id = undefined;
    router.query = { id: undefined };
    ```

  - **持久化机制**：

    - 查询参数自动写入地址栏 URL

    - 页面返回时自动从 `router.query` 读取并回填表单值
