# 七、表格（Table）规范

### 1. 表格基础

- 使用 `antd/Table`

- 通过接口获取数据的 Table **必须** 有 loading 效果

### 2. 表格操作栏

- 操作栏 **必须** 使用：

  `@cqsjjb/jjb-react-admin-component/TableAction`

  必须严格参考对应 MD 文档或 d.ts 文件！不得猜测组件属性！

- 操作栏固定在 **右侧**

### 3. 表格选择列

- 复选 / 单选列固定在 **左侧**

### 4. 批量操作

- 批量操作按钮放在 `Table.footer`

- 位置：左侧

- 规则：

  - 选中条数为 0 时按钮不可点击

  - 使用聚合按钮（Dropdown）

  - 示例：批量删除 / 批量操作

### 5. 空数据状态

- 所有自定义布局：

  - 无数据时 **禁止留白**

  - 必须使用 `antd/Empty`

### 6. 删除确认

- 所有删除操作 **必须** 使用 `InjectContext` 中的 `context.modal.confirm` 进行二次确认

- **规范依据**：详细使用规范请参考 [`chapters/03-项目页面结构.md`](../chapters/03-项目页面结构.md)"`InjectContext` 使用规范"部分

- **使用要点**：
  - 禁止直接使用 `antd/Modal.confirm` 静态方法
  - 必须通过 `useContext(InjectContext)` 获取 `context` 对象后使用 `context.modal.confirm`
  - 允许使用 `<Modal>` 组件标签形式（非静态方法）

- **使用示例**：
  ```javascript
  import React, { useContext } from 'react';
  import { InjectContext } from '~/enumerate/context';

  function UserList({ user, deleteUserAction }) {
    const context = useContext(InjectContext);

    const handleDelete = (record) => {
      // ✅ 正确：使用 context.modal.confirm（详细规范参考 [`chapters/03-项目页面结构.md`](../chapters/03-项目页面结构.md)）
      context.modal.confirm({
        title: '确认删除',
        content: '确定要删除这条记录吗？',
        onOk: async () => {
          await deleteUserAction({ id: record.id });
          context.message.success('删除成功！');
        },
      });
    };

    return (
      // 组件内容
    );
  }
  ```
