# 十一、接口与数据层规范

## 1. 概述与核心架构

> **⚠️ 重要说明**：本章节仅适用于**后端接口**（通过 `declareRequest` 定义）。  
> 如需调用**底座平台API**（如 `base.getClientInfo()`、`base.getTenantInfo()` 等），请参考 [`19-底座平台API调用规范`](../19-底座平台API调用规范/01-概述与环境判断.md)。  
> **底座平台API不使用 `declareRequest`、`Connect` 或 `http`，直接使用全局对象 `base`。**

本系统采用基于 `dva` 的高度抽象数据流管理模式，通过 **"接口定义 - 命名空间映射 - 视图连接"** 三层结构实现业务逻辑与 UI 的彻底解耦。

## 核心架构职责

| 层次           | 对应目录/文件              | 职责描述                                                                             |
| :------------- | :------------------------- | :----------------------------------------------------------------------------------- |
| **API 定义层** | `src/api/`                 | 使用 `declareRequest` 定义具体的后端接口请求，管理 Loading 状态与数据清洗逻辑。      |
| **命名空间层** | `src/enumerate/namespace/` | 定义 **中间层常量 (Namespace)**，作为业务模块的唯一标识，建立视图与 API 的映射关系。 |
| **视图连接层** | `src/pages/`               | 使用 `Connect` 装饰器链接中间层常量，将 API 数据与状态自动注入组件 `props`。适用于所有路由页面（包括Container下的常规页面和外部页面）。 |
