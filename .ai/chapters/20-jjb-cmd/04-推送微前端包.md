# 二十、jjb-cmd 命令行工具使用指南

## 4. 推送微前端 dist 包到后端仓库（壳子）

**⚠️ 前置条件**：执行推送命令前，必须先执行 `jjb-cmd auth` 进行登录授权，否则无法执行推送命令。

### 4.1 命令格式

```bash
jjb-cmd push java <环境变量>
```

**说明**：推送微应用对应的 Java 仓库（壳子），将前端构建产物推送到后端仓库。

**执行位置**：在应用根目录执行。

**示例**：

```bash
# 推送到生产环境
jjb-cmd push java production

# 推送到开发环境
jjb-cmd push java development
```

### 4.2 配置检查

推送前请确认应用 `jjb.config.js` 文件里的以下配置项无误：

- **javaGit**：后端 Java 项目的 Git 仓库地址
- **javaGitName**：后端仓库名称
- **environment.<env>.javaGitBranch**：对应环境的后端分支名称

若配置有误可能导致推送失败！

### 4.3 推送失败排查

若推送失败，可能存在以下问题：

- **权限问题**：没有获取应用后端的仓库权限，请确认你的 Git 账号权限是否是 Maintainer
- **版本问题**：jjb-cmd 版本不是最新的，请更新到最新版本
- **登录授权问题**：没有登录授权成功，请确认是否执行 `jjb-cmd auth` 命令
- **配置问题**：
  - `javaGit` 链接不正确
  - `javaGitName` 与后端仓库名称不一致
  - 后端仓库中不存在配置的 `javaGitBranch` 分支
